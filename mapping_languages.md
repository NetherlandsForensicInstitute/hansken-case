##

For the export/import functionality we have looked into a way to separate the concerns of mapping the data between Hansken and CASE and an implementation that allows exporting and importing a subset of this data. The mapping is available in a human readable [google sheet (April 2022)](https://docs.google.com/spreadsheets/d/1zsOYxnQE1KeKCqST1v-n5MD3Zzq7FETGC6ho76E1NG0) and is based on best practices from the [CASE Mapping Guide v0.3](ttps://drive.google.com/file/d/11bxU-BUHd--JPUsRsL5jTI1fBcsgNy2).

Our current implementation of a subset of this mapping, written in [Python](https://www.python.org) uses [rdflib](https://rdflib.dev) ([docs](https://rdflib.readthedocs.io/en/stable/)). Using rdflib to directly generate an RDF graph and triples is a tedious style of programming. Ideally there would be some kind of object-graph-mapping (ogm) abstraction to simplify programming in Python, or a mapping language that allows for easy reimplementation of the mapping in multiple languages.

### Mapping languages

Several mapping languages and initiatives for RDF exist. We have looked into two of them based on information from the _connected business_ team in the _TNO Data Science_ department. The table with notes can be found below at the bottom of this section.

#### YARRRML

[YARRRML](https://rml.io/yarrrml/) is a YAML-based mapping language that describes mapping from tabular e.g. csv and tree-like data e.g. json to RDF graphs. It seems quite fit for mapping the metadata from HANSKEN in json to an RDF graph. This could be done similar to the [json example in the tutorial](https://rml.io/yarrrml/tutorial/getting-started/#json). It does not allow for mapping a projection of the graph back to json. The mapping language would need to be able to generate unique identifiers for

<!-- TODO: add an example? -->

#### SPARQL Anything

SPARQL is graph query language that is common in the semantic web domain. It allows to search for graph patterns in an RDF triple store. It seems like a promising query language to put on top of existing data. Since HANSKEN supports its own query language and our focus is more on translating a result set, this tool doesn't seem like a great fit for the HANSKEN CASE mapping project.

#### Table with notes on multiple ontology mapping initiatives

| Technique               | Type                                 | Used in TNO projects   | Pros                                                        | Cons                                                                                        | Source data                                                                                         | Website                                                                            | Codebase if open source                            | Judgement of usability in TNO                                                                                                        |     |     |                                               |
| ----------------------- | ------------------------------------ | ---------------------- | ----------------------------------------------------------- | ------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- | -------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | --- | --- | --------------------------------------------- |
| Apache Jena             | custom code                          | DDINGS                 | Complete flexibility in constructing mapping                | Time consuming, only maintainable by programmers, requires software stack                   | any                                                                                                 | https://jena.apache.org                                                            | https:/github.com/apache/jena                      |                                                                                                                                      |     |     |                                               |
| RDFlib                  | custom code                          | Hansken                | Very flexible                                               | Time consuming, hard to maintain, changes require programmer                                | any                                                                                                 |                                                                                    |                                                    |                                                                                                                                      |     |     |                                               |
| YARRRML                 | YML-like configuration on top of RML | FEDeRATED, KIS/GHDS    | Increases usability of standardised RML, supports functions | YML is not a semantic web language, ontology knowledge required                             | CSV, tabular, sql, json, xml, etc                                                                   | https://rml.io/yarrrml                                                             | https://github.com/RMLio/yarrrml-parser            | Right combination of flexibility and usability for most TNO projects. May need a more general wrapper for more general ICT use cases |     |     |                                               |
| RML                     | Transformation languagle             | Indirectly via YARRRML | To be standardised (currently in draft)                     | Very unreadable, needs a more readable/writable intermediate language                       | CSV, tabular, sql, json, xml, etc                                                                   | https://rml.io/specs/rml                                                           | https://github.com/RMLio/rmlmapper-java            | Important as a part of a tool chain, e.g. together with YARRRML                                                                      |     |     |                                               |
| SPARQL Anything         | SPARQL extension                     |                        | Similar to SPARQL                                           | Requires knowledge about ontologies and graph patterns                                      | XML, JSON, CSV, HTML, Excel, Text, binary, EXIF, filesystem, zip/tar, markdown, YAML, Bibtext, docx | https://sparql-anything.cc                                                         | https://github.com/SPARQL-Anything/sparql.anything |                                                                                                                                      |     |     |                                               |
| OntoRefine (in GraphDB) | GUI                                  | FEDeRATED              | Graphical interface, ontology-based term completion         | Little flexibility (no native arithmetic of string operations), requires ontology knowledge | Tabular                                                                                             | https://graphdb.ontotext.com/documentation/free/loading-data-using-ontorefine.html |                                                    |                                                                                                                                      |     |     | Too little of both worlds, GUI is not so good |
